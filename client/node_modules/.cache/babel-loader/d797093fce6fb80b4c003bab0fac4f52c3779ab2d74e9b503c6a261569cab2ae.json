{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch } from 'react-redux';\nimport { handleLoginSuccess, updateOnlineStatus } from \"../../api.js\";\nimport { loginUser } from '../../loginReducer.js';\nimport { useNavigate } from 'react-router-dom';\nimport { decodeToken } from './authentication/auth.js';\nexport function useHandleLogin() {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  async function handleLogin(credentialResponse) {\n    try {\n      // const result = await handleLoginSuccess(credentialResponse);\n      // Perform additional actions after successful login\n\n      dispatch(loginUser({\n        email: result.email,\n        name: result.name\n      }));\n      if (result) {\n        await updateOnlineStatus(result.email);\n        navigate(`/homepage/${encodeURIComponent(result.name)}`); // Navigate to the '/homepage' route\n      }\n    } catch (error) {\n      console.log('Login Failed:', error);\n    }\n  }\n  return handleLogin;\n}\n_s(useHandleLogin, \"R1L93MxeLXzQXESpmjjjQSuQgvM=\", false, function () {\n  return [useDispatch, useNavigate];\n});","map":{"version":3,"names":["useDispatch","handleLoginSuccess","updateOnlineStatus","loginUser","useNavigate","decodeToken","useHandleLogin","_s","dispatch","navigate","handleLogin","credentialResponse","email","result","name","encodeURIComponent","error","console","log"],"sources":["C:/Users/jadep/Desktop/diary2/diary2/client/src/components/login/loginHelper.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\r\n\r\nimport { handleLoginSuccess,updateOnlineStatus } from \"../../api.js\";\r\nimport { loginUser } from '../../loginReducer.js';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { decodeToken } from './authentication/auth.js';\r\n\r\nexport function useHandleLogin() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  async function handleLogin(credentialResponse) {\r\n    try {\r\n      // const result = await handleLoginSuccess(credentialResponse);\r\n      // Perform additional actions after successful login\r\n\r\n      \r\n      dispatch(loginUser({ email: result.email, name: result.name }));\r\n      if (result) {\r\n        await updateOnlineStatus(result.email);\r\n        navigate(`/homepage/${encodeURIComponent(result.name)}`); // Navigate to the '/homepage' route\r\n      }\r\n    } catch (error) {\r\n      console.log('Login Failed:', error);\r\n    }\r\n  }\r\n\r\n  return handleLogin;\r\n}\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,aAAa;AAEzC,SAASC,kBAAkB,EAACC,kBAAkB,QAAQ,cAAc;AACpE,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,0BAA0B;AAEtD,OAAO,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9B,eAAeM,WAAWA,CAACC,kBAAkB,EAAE;IAC7C,IAAI;MACF;MACA;;MAGAH,QAAQ,CAACL,SAAS,CAAC;QAAES,KAAK,EAAEC,MAAM,CAACD,KAAK;QAAEE,IAAI,EAAED,MAAM,CAACC;MAAK,CAAC,CAAC,CAAC;MAC/D,IAAID,MAAM,EAAE;QACV,MAAMX,kBAAkB,CAACW,MAAM,CAACD,KAAK,CAAC;QACtCH,QAAQ,CAAE,aAAYM,kBAAkB,CAACF,MAAM,CAACC,IAAI,CAAE,EAAC,CAAC,CAAC,CAAC;MAC5D;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,KAAK,CAAC;IACrC;EACF;EAEA,OAAON,WAAW;AACpB;AAACH,EAAA,CArBeD,cAAc;EAAA,QACXN,WAAW,EACXI,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}