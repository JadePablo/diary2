{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch } from 'react-redux';\nimport { handleLoginSuccess, updateOnlineStatus } from \"../../api.js\";\nimport { loginUser } from '../../loginReducer.js';\nimport { useNavigate } from 'react-router-dom';\nexport function useHandleLogin() {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  async function handleLogin(credentialResponse) {\n    try {\n      const result = await handleLoginSuccess(credentialResponse);\n      // Perform additional actions after successful login\n      dispatch(loginUser({\n        email: result.email,\n        name: result.name\n      }));\n      if (result) {\n        await updateOnlineStatus(result.email);\n        navigate(`/homepage/${encodeURIComponent(result.name)}`); // Navigate to the '/homepage' route\n      }\n    } catch (error) {\n      console.log('Login Failed:', error);\n    }\n  }\n  return handleLogin;\n}\n_s(useHandleLogin, \"R1L93MxeLXzQXESpmjjjQSuQgvM=\", false, function () {\n  return [useDispatch, useNavigate];\n});","map":{"version":3,"names":["useDispatch","handleLoginSuccess","updateOnlineStatus","loginUser","useNavigate","useHandleLogin","_s","dispatch","navigate","handleLogin","credentialResponse","result","email","name","encodeURIComponent","error","console","log"],"sources":["C:/Users/jadep/Desktop/diary2/diary2/client/src/components/login/loginHelper.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\r\n\r\nimport { handleLoginSuccess,updateOnlineStatus } from \"../../api.js\";\r\nimport { loginUser } from '../../loginReducer.js';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport function useHandleLogin() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  async function handleLogin(credentialResponse) {\r\n    try {\r\n      const result = await handleLoginSuccess(credentialResponse);\r\n      // Perform additional actions after successful login\r\n      dispatch(loginUser({ email: result.email, name: result.name }));\r\n      if (result) {\r\n        await updateOnlineStatus(result.email);\r\n        navigate(`/homepage/${encodeURIComponent(result.name)}`); // Navigate to the '/homepage' route\r\n      }\r\n    } catch (error) {\r\n      console.log('Login Failed:', error);\r\n    }\r\n  }\r\n\r\n  return handleLogin;\r\n}"],"mappings":";AAAA,SAASA,WAAW,QAAQ,aAAa;AAEzC,SAASC,kBAAkB,EAACC,kBAAkB,QAAQ,cAAc;AACpE,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAMQ,QAAQ,GAAGJ,WAAW,CAAC,CAAC;EAE9B,eAAeK,WAAWA,CAACC,kBAAkB,EAAE;IAC7C,IAAI;MACF,MAAMC,MAAM,GAAG,MAAMV,kBAAkB,CAACS,kBAAkB,CAAC;MAC3D;MACAH,QAAQ,CAACJ,SAAS,CAAC;QAAES,KAAK,EAAED,MAAM,CAACC,KAAK;QAAEC,IAAI,EAAEF,MAAM,CAACE;MAAK,CAAC,CAAC,CAAC;MAC/D,IAAIF,MAAM,EAAE;QACV,MAAMT,kBAAkB,CAACS,MAAM,CAACC,KAAK,CAAC;QACtCJ,QAAQ,CAAE,aAAYM,kBAAkB,CAACH,MAAM,CAACE,IAAI,CAAE,EAAC,CAAC,CAAC,CAAC;MAC5D;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,KAAK,CAAC;IACrC;EACF;EAEA,OAAON,WAAW;AACpB;AAACH,EAAA,CAnBeD,cAAc;EAAA,QACXL,WAAW,EACXI,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}