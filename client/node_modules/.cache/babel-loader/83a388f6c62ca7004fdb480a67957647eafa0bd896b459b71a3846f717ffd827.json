{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jadep/Desktop/diary2/diary2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/jadep/Desktop/diary2/diary2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';var URL=\"https://diario-api.onrender.com\";// Function to handle login success and verify the token\nfunction handleLoginSuccess(_x){return _handleLoginSuccess.apply(this,arguments);}// Function to post a new journal entry\nfunction _handleLoginSuccess(){_handleLoginSuccess=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(token){var response,decodedToken;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(URL,\"/decode\"),{params:{credential:token.credential}});case 3:response=_context.sent;decodedToken=response.data;// Use the user information as needed\nreturn _context.abrupt(\"return\",decodedToken);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);throw new Error('Token verification failed');case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return _handleLoginSuccess.apply(this,arguments);}function postNewEntry(_x2){return _postNewEntry.apply(this,arguments);}// Function to update online status\nfunction _postNewEntry(){_postNewEntry=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(entryData){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"\".concat(URL,\"/upload\"),entryData);case 3:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);throw new Error('Failed to post journal entry');case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return _postNewEntry.apply(this,arguments);}function updateOnlineStatus(_x3){return _updateOnlineStatus.apply(this,arguments);}// Function to get journal entries\nfunction _updateOnlineStatus(){_updateOnlineStatus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(email){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.put(\"\".concat(URL,\"/online-status\"),null,{params:{email:email}});case 3:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);throw new Error('Failed to update online status');case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);}));return _updateOnlineStatus.apply(this,arguments);}function getJournalEntries(_x4){return _getJournalEntries.apply(this,arguments);}function _getJournalEntries(){_getJournalEntries=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(email){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get(\"\".concat(URL,\"/journal-entries\"),{params:{email:email}});case 3:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);throw new Error('Failed to retrieve journal entries');case 10:case\"end\":return _context4.stop();}},_callee4,null,[[0,7]]);}));return _getJournalEntries.apply(this,arguments);}export{handleLoginSuccess,postNewEntry,updateOnlineStatus,getJournalEntries};","map":{"version":3,"names":["axios","URL","handleLoginSuccess","_x","_handleLoginSuccess","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","response","decodedToken","wrap","_callee$","_context","prev","next","get","concat","params","credential","sent","data","abrupt","t0","Error","stop","postNewEntry","_x2","_postNewEntry","_callee2","entryData","_callee2$","_context2","post","updateOnlineStatus","_x3","_updateOnlineStatus","_callee3","email","_callee3$","_context3","put","getJournalEntries","_x4","_getJournalEntries","_callee4","_callee4$","_context4"],"sources":["C:/Users/jadep/Desktop/diary2/diary2/client/src/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst URL = \"https://diario-api.onrender.com\";\r\n\r\n// Function to handle login success and verify the token\r\nasync function handleLoginSuccess(token) {\r\n  try {\r\n    const response = await axios.get(`${URL}/decode`, {\r\n      params: {\r\n        credential: token.credential,\r\n      },\r\n    });\r\n    const decodedToken = response.data;\r\n    // Use the user information as needed\r\n    return decodedToken;\r\n  } catch (error) {\r\n    throw new Error('Token verification failed');\r\n  }\r\n}\r\n\r\n// Function to post a new journal entry\r\nasync function postNewEntry(entryData) {\r\n  try {\r\n    const response = await axios.post(`${URL}/upload`, entryData);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error('Failed to post journal entry');\r\n  }\r\n}\r\n\r\n// Function to update online status\r\nasync function updateOnlineStatus(email) {\r\n  try {\r\n    const response = await axios.put(`${URL}/online-status`, null, {\r\n      params: {\r\n        email,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error('Failed to update online status');\r\n  }\r\n}\r\n\r\n// Function to get journal entries\r\nasync function getJournalEntries(email) {\r\n  try {\r\n    const response = await axios.get(`${URL}/journal-entries`, {\r\n      params: {\r\n        email,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error('Failed to retrieve journal entries');\r\n  }\r\n}\r\n\r\nexport { handleLoginSuccess, postNewEntry, updateOnlineStatus, getJournalEntries };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}