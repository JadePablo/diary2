{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jadep/Desktop/diary2/diary2/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/jadep/Desktop/diary2/diary2/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{useDispatch}from'react-redux';import{GoogleLogin}from'@react-oauth/google';import{handleLoginSuccess,updateOnlineStatus}from'../api.js';import{loginUser}from'../loginReducer.js';import{useNavigate}from'react-router-dom';import Box from'@mui/material/Box';import Typography from'@mui/material/Typography';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useHandleLogin(){var dispatch=useDispatch();var navigate=useNavigate();function handleLogin(_x){return _handleLogin.apply(this,arguments);}function _handleLogin(){_handleLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(credentialResponse){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return handleLoginSuccess(credentialResponse);case 3:result=_context.sent;// Perform additional actions after successful login\ndispatch(loginUser({email:result.email,name:result.name}));if(!result){_context.next=9;break;}_context.next=8;return updateOnlineStatus(result.email);case 8:navigate(\"/homepage/\".concat(encodeURIComponent(result.name)));// Navigate to the '/homepage' route\ncase 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log('Login Failed:',_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return _handleLogin.apply(this,arguments);}return handleLogin;}function Login(){var handleLogin=useHandleLogin();return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'100vh',backgroundColor:'white',padding:'20px'},children:[/*#__PURE__*/_jsxs(Box,{sx:{position:'fixed',top:0,left:0,padding:'10px',backgroundColor:'white',fontFamily:'Arial'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"black\",sx:{fontSize:'24px'},children:/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"i\",{children:\"why?\"})})}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"black\",sx:{fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"i\",{children:\"lock your thoughts and unlock your potential.\"}),\" ok rapid fire features here we go. set a lock time for journal entries until a specified date. on new year's eve we'll share insight into what/who you talk about the most. and what emotions tend to spill in your entries using machine learning. And that is the only time we will bother you via email.\",/*#__PURE__*/_jsxs(\"b\",{children:[\"and most importantly, your data is \",/*#__PURE__*/_jsx(\"s\",{children:\"compromised\"}),\" secure. That was a joke. I promise its secure.\"]})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"diario\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"It's a diary, literally.\"}),/*#__PURE__*/_jsx(Box,{sx:{backgroundColor:'white',padding:'20px',textAlign:'center',fontFamily:'Times New Roman'},children:/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:handleLogin})}),/*#__PURE__*/_jsx(Box,{sx:{mt:2,textAlign:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"It was that or diarryea pronounced: dai - ur -ee -uh.\"})})]})]});}export default Login;","map":{"version":3,"names":["React","useDispatch","GoogleLogin","handleLoginSuccess","updateOnlineStatus","loginUser","useNavigate","Box","Typography","jsx","_jsx","jsxs","_jsxs","useHandleLogin","dispatch","navigate","handleLogin","_x","_handleLogin","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","credentialResponse","result","wrap","_callee$","_context","prev","next","sent","email","name","concat","encodeURIComponent","t0","console","log","stop","Login","sx","display","flexDirection","alignItems","justifyContent","height","backgroundColor","padding","children","position","top","left","fontFamily","variant","color","fontSize","component","gutterBottom","textAlign","onSuccess","mt"],"sources":["C:/Users/jadep/Desktop/diary2/diary2/client/src/components/loginPage.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { GoogleLogin } from '@react-oauth/google';\r\nimport { handleLoginSuccess, updateOnlineStatus } from '../api.js';\r\nimport { loginUser } from '../loginReducer.js';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nfunction useHandleLogin() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  async function handleLogin(credentialResponse) {\r\n    try {\r\n      const result = await handleLoginSuccess(credentialResponse);\r\n      // Perform additional actions after successful login\r\n      dispatch(loginUser({ email: result.email, name: result.name }));\r\n      if (result) {\r\n        await updateOnlineStatus(result.email)\r\n        navigate(`/homepage/${encodeURIComponent(result.name)}`); // Navigate to the '/homepage' route\r\n      }\r\n    } catch (error) {\r\n      console.log('Login Failed:', error);\r\n    }\r\n  }\r\n\r\n  return handleLogin;\r\n}\r\n\r\nfunction Login() {\r\n  const handleLogin = useHandleLogin();\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: '100vh',\r\n        backgroundColor: 'white',\r\n        padding: '20px',\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          padding: '10px',\r\n          backgroundColor: 'white',\r\n          fontFamily: 'Arial',\r\n        }}\r\n      >\r\n      <Typography variant=\"caption\" color=\"black\" sx={{ fontSize: '24px'}}>\r\n        <b><i>why?</i></b>\r\n      </Typography>\r\n      <Typography variant=\"caption\" color=\"black\" sx={{ fontSize: '12px'}}>\r\n        <br />\r\n        <i>lock your thoughts and unlock your potential.</i> ok rapid fire features here we go.\r\n        set a lock time for journal entries until a specified date.\r\n        on new year's eve we'll share insight into what/who you talk about the most. and what emotions tend\r\n        to spill in your entries using machine learning. And that is the only time we will bother you via email.\r\n\r\n        <b>and most importantly, your data is <s>compromised</s> secure. That was a joke. I promise its secure.</b>\r\n      </Typography>\r\n\r\n      </Box>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n          diario\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\" gutterBottom>\r\n          It's a diary, literally.\r\n        </Typography>\r\n        <Box\r\n          sx={{\r\n            backgroundColor: 'white',\r\n            padding: '20px',\r\n            textAlign: 'center',\r\n            fontFamily: 'Times New Roman',\r\n          }}\r\n        >\r\n          <GoogleLogin onSuccess={handleLogin} />\r\n        </Box>\r\n        <Box sx={{ mt: 2, textAlign: 'center' }}>\r\n          <Typography variant=\"caption\" color=\"text.secondary\">\r\n            It was that or diarryea pronounced: dai - ur -ee -uh.\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}