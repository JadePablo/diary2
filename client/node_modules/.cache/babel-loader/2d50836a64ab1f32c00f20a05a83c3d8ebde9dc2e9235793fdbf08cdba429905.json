{"ast":null,"code":"import { OAuth2Client } from 'google-auth-library';\nconst CLIENT_ID = process.env.REACT_APP_GOOGLE_CLIENT_ID;\nexport async function decodeToken(credential) {\n  const client = new OAuth2Client(CLIENT_ID);\n  try {\n    const token = credential;\n    if (!token) {\n      return {\n        error: 'Token not provided'\n      };\n    }\n    const ticket = await client.verifyIdToken({\n      idToken: token,\n      audience: CLIENT_ID\n    });\n    const payload = ticket.getPayload();\n    const decodedToken = {\n      userId: payload.sub,\n      email: payload.email,\n      name: payload.name,\n      picture: payload.picture\n    };\n    return decodedToken;\n  } catch (error) {\n    console.error('Error:', error);\n    return {\n      error: 'failed to verify token'\n    };\n  }\n}","map":{"version":3,"names":["OAuth2Client","CLIENT_ID","process","env","REACT_APP_GOOGLE_CLIENT_ID","decodeToken","credential","client","token","error","ticket","verifyIdToken","idToken","audience","payload","getPayload","decodedToken","userId","sub","email","name","picture","console"],"sources":["C:/Users/jadep/Desktop/diary2/diary2/client/src/components/login/authentication/auth.js"],"sourcesContent":["import { OAuth2Client } from 'google-auth-library';\r\n\r\nconst CLIENT_ID = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n\r\nexport async function decodeToken(credential) {\r\n\r\n    const client = new OAuth2Client(CLIENT_ID);\r\n\r\n    try {\r\n        \r\n        const token = credential\r\n   \r\n        if (!token) {\r\n            return {error: 'Token not provided' }\r\n        }\r\n\r\n        const ticket = await client.verifyIdToken({\r\n          idToken: token,\r\n          audience: CLIENT_ID,\r\n        });\r\n\r\n        const payload = ticket.getPayload();\r\n        const decodedToken = {\r\n          userId: payload.sub,\r\n          email: payload.email,\r\n          name: payload.name,\r\n          picture: payload.picture,\r\n        };\r\n    \r\n        return decodedToken\r\n\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n        return {error: 'failed to verify token'}\r\n      }\r\n}"],"mappings":"AAAA,SAASA,YAAY,QAAQ,qBAAqB;AAElD,MAAMC,SAAS,GAAGC,OAAO,CAACC,GAAG,CAACC,0BAA0B;AAExD,OAAO,eAAeC,WAAWA,CAACC,UAAU,EAAE;EAE1C,MAAMC,MAAM,GAAG,IAAIP,YAAY,CAACC,SAAS,CAAC;EAE1C,IAAI;IAEA,MAAMO,KAAK,GAAGF,UAAU;IAExB,IAAI,CAACE,KAAK,EAAE;MACR,OAAO;QAACC,KAAK,EAAE;MAAqB,CAAC;IACzC;IAEA,MAAMC,MAAM,GAAG,MAAMH,MAAM,CAACI,aAAa,CAAC;MACxCC,OAAO,EAAEJ,KAAK;MACdK,QAAQ,EAAEZ;IACZ,CAAC,CAAC;IAEF,MAAMa,OAAO,GAAGJ,MAAM,CAACK,UAAU,CAAC,CAAC;IACnC,MAAMC,YAAY,GAAG;MACnBC,MAAM,EAAEH,OAAO,CAACI,GAAG;MACnBC,KAAK,EAAEL,OAAO,CAACK,KAAK;MACpBC,IAAI,EAAEN,OAAO,CAACM,IAAI;MAClBC,OAAO,EAAEP,OAAO,CAACO;IACnB,CAAC;IAED,OAAOL,YAAY;EAErB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACda,OAAO,CAACb,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,OAAO;MAACA,KAAK,EAAE;IAAwB,CAAC;EAC1C;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}